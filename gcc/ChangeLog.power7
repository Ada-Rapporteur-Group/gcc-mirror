2011-04-05  Michael Meissner  <meissner@linux.vnet.ibm.com>

	* tree.h (enum built_in_function): Add support for machine
	dependent builtins to be generated along with normal builtins.
	Create new include files that include the standard .def files as
	well as any optional machine dependent files.
	* builtins.c (built_in_names): Ditto.
	* configure.ac (extra_builtin_attrs): Ditto.
	(extra_builtin_types): Ditto.
	(extra_builtin_md): Ditto.
	* config.gcc (extra_builtin_attrs): Ditto.
	(extra_builtin_types): Ditto.
	(extra_builtin_md): Ditto.
	* Makefile.in (builtin-types.h): Ditto.
	(builtin-attrs.h): Ditto.
	(builtin-md.h): Ditto.
	(BUILTIN_MD_H): Rename from BUILTINS_DEF, and add machine
	dependent includes.  Change all uses.
	(BUILTIN_ATTRS_H): New variable for builtin attribute include
	files.
	(BUILTIN_TYPES_H): New variable for builtin types include files.

	* configure: Regenerate.

2011-04-05  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Merge up to 171990.
	* REVISION: Update subversion id.

2011-04-04  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Merge up to 171943.
	* REVISION: Update subversion id.

2011-04-01  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Merge up to 171854.
	* REVISION: Update subersion id.

2011-04-01  Michael Meissner  <meissner@linux.vnet.ibm.com>

	* config/rs6000/rs6000-protos.h (rs6000_expand_casesi): Add
	declaration.
	(rs6000_split_casesi): Ditto.

	* config/rs6000/rs6000.opt (-mswitch-cr): Enable casesi test
	code.
	(-mcase-values-threshold): Override CASE_VALUES_THRESHOLD hook to
	change when the compiler does jump tables vs. if statements.

	* config/rs6000/rs6000.c (TARGET_CASE_VALUES_THRESHOLD): Add hook
	to change the value of TARGET_CASE_VALUES_THRESHOLD.
	(rs6000_case_values_threshold): Ditto.
	(rs6000_expand_casesi): Test code for casesi support generation,
	currently a stub, reverting back to tablejump support.
	(rs6000_split_casesi): Ditto.

	* config/rs6000/rs6000.md (UNSPEC_CASESI): New unspec enum.
	(casesi_internal<mode>): Test code to add casesi support to
	eventually do CR register trick Steve came up with.
	(casesi): Ditto.

	* doc/invoke.texi (IBM RS/6000 and PowerPC Options): Document
	-mswitch-cr and -mcase-values-threshold.

2011-03-29  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Merge up to 171704.
	* REVISION: Update subversion id.

2011-03-29  Michael Meissner  <meissner@linux.vnet.ibm.com>

	* config/rs6000/rs6000.h (TARGET_DEBUG_INFO): New -mdebug=info
	option.

	* config/rs6000/rs6000.c (rs6000_debug_reg_global): Move the
	non-register debug printfs to rs6000_debug_info.  Add support for
	printing the prefetch parameters.
	(rs6000_debug_info): Ditto.
	(rs6000_handle_option): Add support for -mdebug=info.
	(rs6000_init_hard_regno_mode_ok): Move printf into
	rs6000_debug_info, and call it for -mdebug={cost,reg,info}.

2011-03-29  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Merge up to 171675.
	* REVISION: Update subversion id.

2011-03-25  Andrew Pinski  <pinskia@gmail.com>
	    Michael Meissner  <meissner@linux.vnet.ibm.com>

	* config/rs6000/vector.md (vec_realign_load_<mode>): Allow for
	memory operands.

	* config/rs6000/altivec.md (vec_extract_evenv4si): Correct types.
	(vec_extract_evenv4sf): Ditto.
	(vec_extract_evenv8hi): Ditto.
	(vec_extract_evenv16qi): Ditto.
	(vec_extract_oddv4si): Ditto.
	(vec_extract_oddv4sf): Ditto.

2011-03-24  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Merge up to 171398.
	* REVISION: Update subversion id.

2011-03-23  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Merge up to 171359.
	* REVISION: Update subversion id.

2011-03-22  Michael Meissner  <meissner@linux.vnet.ibm.com>

	PR target/48226
	* config/rs6000/rs6000-c.c (rs6000_macro_to_expand): If we see a
	vector when peeking at the next token for vector, don't expand the
	keywords.

2011-03-22  Michael Meissner  <meissner@linux.vnet.ibm.com>

	PR target/48258
	* config/rs6000/vector.md (UNSPEC_REDUC): New unspec for vector
	reduction.
	(VEC_reduc): New code iterator and splitters for vector reduction.
	(VEC_reduc_name): Ditto.
	(VEC_reduc_rtx): Ditto.
	(reduc_<VEC_reduc_name>_v2df): Vector reduction expanders for VSX.
	(reduc_<VEC_reduc_name>_v4sf): Ditto.

	* config/rs6000/rs6000.c (rs6000_expand_vector_extract): Add
	support for extracting SF on VSX.

	* config/rs6000/vsx.md (vsx_xscvspdp_scalar2): New insn for
	generating xscvspdp.
	(vsx_extract_v4sf): New insn to extract SF from V4SF vector.
	(vsx_reduc_<VEC_reduc_name>_v2df): New insns and splitters for
	double add, minimum, maximum vector reduction.
	(vsx_reduc_<VEC_reduc_name>_v4sf): Ditto.
	(vsx_reduc_<VEC_reduc_name>_v2df2_scalar): New combiner insn to
	optimize double vector reduction.
	(vsx_reduc_<VEC_reduc_name>_v4sf_scalar): Ditto.

2011-03-22  Michael Meissner  <meissner@linux.vnet.ibm.com>

	Clone branch from 171306.
	* REVISION: New file.
