// { dg-additional-options "-fmodules-ts -fdump-lang-module-uid" }
import bar;

int main ()
{

  if (bar::frob ())
    return 1;

  if (bar::quux ())
    return 2;

  return 0;
}

// { dg-final { scan-lang-dump {Lazily binding '::bar::frob'@'bar' section:} module } }
// { dg-final { scan-lang-dump {>Lazily binding '::foo::frob'@'foo' section:} module } }
// { dg-final { scan-lang-dump {Imported:-[0-9]* template_decl:'::foo::frob@2\(foo\)'@foo} module } }
// { dg-final { scan-lang-dump-not {Wrote mergeable} module } }


// { dg-final { scan-lang-dump {Lazily binding '::bar::quux'@'bar' section:} module } }
// { dg-final { scan-lang-dump {>Lazily binding '::foo::X'@'foo' section:} module } }
// { dg-final { scan-lang-dump {Imported:-[0-9]* template_decl:'::foo::X@2\(foo\)'@foo} module } }
// { dg-final { scan-lang-dump {Reading mergeable:-[0-9]* function_decl} module } }
// { dg-final { scan-lang-dump {Read:-[0-9]* function_decl:'::foo::frob@3\(bar\)<0x0>'} module } }
// { dg-final { scan-lang-dump {Voldemort decl:0 \[0\]* '::foo::frob@3\(bar\)<0x0>'} module } }
