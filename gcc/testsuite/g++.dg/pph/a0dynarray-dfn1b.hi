template< typename T >
dynarray<T>::dynarray(size_type c)
: store( alloc( c ) ), count( c )
{
    size_type i;
    try {
        for ( size_type i = 0; i < count; ++i )
            new (store+i) T;
    }
    catch ( ... ) {
    for ( ; i > 0; --i )
        (store+(i-1))->~T();
    throw;
    }
}

template< typename T >
dynarray<T>::~dynarray()
{
    for ( size_type i = 0; i < count; ++i )
        (store+i)->~T();
    delete[] store;
}
