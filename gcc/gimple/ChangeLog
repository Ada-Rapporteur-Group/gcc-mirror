2012-06-09   Sandeep Soni   <soni.sandeepb@gmail.com>

	* parser.c: Modify gp_parse_return_var to have correct code flow.
 
2012-05-25   Diego Novillo  <dnovillo@google.com>

	* parser.c (gimple_register_var_decl_in_symtab): Tidy.
	(gl_peek_token): New.
	(gl_consume_token): Call it.
	(gl_tree_code_for_token): Add FIXME note.
	(gl_gimple_code_for_token): Likewise.
	(gl_dump): Surround the current token in '[[[' ']]]'.
	(gl_consume_expected_token): Only emit an error if no other errors
	have been emitted.
	(gp_parse_expect_subcode): Return the recognized code.  Return
	the read token in new argument *TOKEN_P.
	Update all callers.
	(gp_parse_expect_lhs): Call gl_peek_token.
	(gp_parse_expect_rhs_op): Rename from gp_parse_expect_rhs1.
	Call gl_peek_token.
	(gp_parse_expect_rhs2): Remove.
	(gp_parse_assign_stmt): Re-write to support all gimple RHS
	classes.
	(gp_parse_cond_stmt): Tidy.
	Emit an error if OPCODE is anything but a GIMPLE_BINARY_RHS.
	(gp_parse_goto_stmt): Tidy.
	(gp_parse_label_stmt): Tidy.
	(gp_parse_switch_stmt): Tidy.
	(gp_parse_stmt): Do not emit an error if one has been emitted
	already.
	(realloc_for_line_map): New.
	(gp_init): Use it.
	Update code to initialize the line table.
	(gimple_main): Tidy.

2012-05-24   Diego Novillo  <dnovillo@google.com>

	* Make-lang.in: Add support for check-gimple.

2012-03-23   Diego Novillo  <dnovillo@google.com>

	* gimple-lang.c (def_builtin_1): Call set_builtin_decl.
	Adjust to new builtin interfaces in 4.8.
	* parser.c (gimple_init): Adjust call to build_common_tree_nodes.
	Remove call to build_common_tree_nodes_2.

2012-03-08  Sandeep Soni  <soni.sandeepb@gmail.com>

	* parser.c (gl_lex_token): For every CPP_LSHIFT and CPP_RSHIFT tokens,
	split the token into two discrete CPP_LESS and CPP_GREATER tokens
	respectively.
	(gl_split_token): New. The split function for the case above.
	(gl_token_is_of_type): New. Checks if the tokens type is the expected
	type.
	(gp_parse_var_decl): Changing consumption of CPP_LSHIFT and CPP_RSHIFT
	tokens into CPP_LESS and CPP_GREATER tokens.
	(gp_parse_record_type): Ditto.
	(gp_parse_union_type): Ditto.
	(gp_parse_cond_stmt): Ditto.
	(gp_parse_goto_stmt): Ditto.
	(gp_parse_label_stmt): Ditto.
	(gp_parse_switch_stmt): Ditto.

2012-03-01  Sandeep Soni  <soni.sandeepb@gmail.com>

	* parser.c : Include hashtab.h.
	(gimple_symtab): New. The symbol table.
	(gimple_symtab_entry_hash): New.
	(gimple_symtab_eq_hash): New.
	(gimple_symtab_entry_marked_p):New.
	(gimple_symtab_maybe_init_hash_table):New.
	(gimple_symtab_register_decl):New.
	(gimple_register_var_decl_in_symtab):New.
	(gp_parse_var_decl): Put declaration in the symbol table.
	(gimple_main): Creates the symbol table
	* parser.h : (struct gimple_symtab_entry_def): New.

2011-10-11  Sandeep Soni  <soni.sandeepb@gmail.com>

	* parser.c (gp_parse_var_decl): Fixed a bug for the 
	missing symbol 'CPP_LESS' in the 'INTEGER_TYPE' declaration.

2011-05-13  Sandeep Soni  <soni.sandeepb@gmail.com>

	* parser.c (gl_gimple_code_for_token): New.
	(gp_parse_var_decl): New.
	(gp_parse_decl): New.
	(gp_parse): Addition of call to new functions.

2011-05-05  Diego Novillo  <dnovillo@google.com>

	* gimple-lang.c (gimple_attribute_table): Add initializer for
	new field 'affects_type_identity'.
	(gimple_format_attribute_table): Likewise.

2011-01-24  Diego Novillo  <dnovillo@google.com>

	* gimple/parser.c (gl_tree_code_for_token): Fix type
	mismatch warnings.
	(gl_gimple_code_for_token): Likewise.

2011-01-04  Diego Novillo  <dnovillo@google.com>

	* lang-specs.h: Make .gimple files use the @gimple spec.
	* parser.h: Include stdio.h.
	(struct gimple_token): New.
	* gimple-lang.c	(handle_leaf_attribute): Tidy.
	* parser.c (gl_eof_token): New.
	(gl_token_as_text): New.
	(gl_at_eof): New.
	(gl_consume_token): New.
	Replace calls to cpp_get_token with this everywhere.
	Re-arrange calls to cpp_peek_token to call this and avoid
	having to peek and consume separately.
	(gl_tree_code_for_token): New.
	(gl_gimple_code_for_token): New.
	(gl_token_starts_type): New.
	(gl_dump_token): New.
	(gl_dump): New.
	(gp_dump): New.
	(gl_consume_expected_token): New.
	(gp_parse_expect_subcode): Rename from gimple_parse_expect_subcode.
	Call error_at instead of error.
	(gp_parse_expect_lhs): Rename from gimple_parse_expect_lhs.
	(gp_parse_expect_rhs1): Rename from gimple_parse_expect_rhs1.
	(gp_parse_expect_rhs2): Rename from gimple_parse_expect_rhs2.
	(gp_parse_assign_stmt): Rename from gimple_parse_assign_stmt.
	(gp_parse_expect_op1): Rename from gimple_parse_expect_op1.
	(gp_parse_expect_op2): Rename from gimple_parse_expect_op2.
	(gp_parse_expect_true_label): Rename from
	gimple_parse_expect_true_label.
	(gp_parse_expect_false_label): Rename from
	gimple_parse_expect_false_label.
	(gp_parse_cond_stmt): Rename from gimple_parse_cond_stmt.
	(gp_parse_goto_stmt): Rename from gimple_parse_goto_stmt.
	(gp_parse_label_stmt): Rename from gimple_parse_label_stmt.
	(gp_parse_switch_stmt): Rename from gimple_parse_switch_stmt.
	(gp_parse_expect_function_name): Rename from
	gimple_parse_expect_function_name.
	(gp_parse_expect_return_var): Rename from
	gimple_parse_expect_return_var.
	(gp_parse_expect_argument): Rename from gimple_parse_expect_argument.
	(gp_parse_call_stmt): Rename from gimple_parse_call_stmt.
	(gp_parse_return_stmt): Rename from gimple_parse_return_stmt.
	(gp_parse_stmt): Rename from gimple_parse_stmt.
	(gp_parse_expect_field_decl): Rename from
	gimple_parse_expect_field_decl.
	(gp_parse_record_type): Rename from gimple_parse_record_type.
	Check that we do not run out of tokens.
	(gp_parse_union_type): Rename from gimple_parse_union_type.
	Check that we do not run out of tokens.
	(gp_parse_expect_const_decl): Rename from
	gimple_parse_expect_const_decl.
	(gp_parse_enum_type): Rename from gimple_parse_enum_type.
	Check that we don't run out of tokens.
	(gp_parse_type): Rename from gimple_parse_type.
	(narrowest_unsigned_type): Copy over from c-family/c-lex.c.
	(narrowest_signed_type): Likewise.
	(gl_interpret_integer): New.
	(gl_interpret_float): New.
	(gl_lex_charconst): New.
	(gl_lex_string): New.
	(gl_lex_token): New.
	(gl_lex): Re-organize.  Call gl_lex_token.
	(gp_parse): Call gl_token_starts_type to determine whether
	to parse a type or a statement.
	(gp_init): Receive file name to parse as input.  Update users.

2010-12-20  Diego Novillo  <dnovillo@google.com>

	* parser.h (gimple_parser): Remove field debug_p.
	* parser.c (gimple_main): Remove argument debug_p.
	Update all users.

2010-11-22  Diego Novillo  <dnovillo@google.com>

	* Make-lang.in (GIMPLE_PARSER_H): Add CPPLIB_H and VEC_H
	(gimple-lang.o, parser.o): Fix dependencies.
	* parser.h: Include cpplib.h and vec.h.
	(struct gimple_lexer): Define.
	(struct gimple_parser): Define.
	(gimple_token): Define.
	* config-lang.in (gtfiles): Add parser.h and parser.c
	* gimple-lang.c: Do not include flags.h nor tm.h.
	(handle_leaf_attribute): New.
	(gimple_attributes): Add attribute 'leaf'.
	* parser.c: Do not include cpplib.h nor input.h.
	Include toplev.h, timevar.h.
	Move include of ggc.h earlier in the file.
	Change all references to cpp_token with gimple_token.
	(parser_gc_root__): New.
	(gl_init): New.
	(gp_init): New.
	(gl_lex): New.
	(gl_consume_token): New.
	(gp_parse): New.
	(gp_finish): New.
	(gimple_main): Call gp_init, gl_lex, gp_parse and
	gp_finish.

2010-11-10  Sandeep Soni  <soni.sandeepb@gmail.com>
	    Diego Novillo  <dnovillo@google.com>

	* parser.c (gimple_parse_expect_rhs1): Change ifs to switch.
	(gimple_parse_expect_rhs2): Likewise.
	(gimple_parse_expect_op1): Likewise.
	(gimple_parse_expect_op2): Likewise.
	(gimple_parse_expect_argument): Likewise.
	(gimple parse_record_type,
	gimple_parse_union_type,
	gimple_parse_enum_type,
	gimple_parse_expect_const_decl,
	gimple_parse_expect_field_decl,
	gimple_parse_type): Add.
	(gimple_main): Call gimple_parse_type.

2010-08-12  Diego Novillo  <dnovillo@google.com>

	* parser.c (gimple parse_expect_op1,
	gimple_parse_assign_stmt,
	gimple_parse_call_stmt,
	gimple_parse_cond_stmt,
	gimple_parse_expect_argument,
	gimple_parse_expect_false_label,
	gimple_parse_expect_function_name,
	gimple_parse_expect_lhs,
	gimple_parse_expect_op1,
	gimple_parse_expect_op2,
	gimple_parse_expect_return_var,
	gimple_parse_expect_rhs1,
	gimple_parse_expect_rhs2,
	gimple_parse_expect_subcode,
	gimple_parse_expect_token,
	gimple_parse_expect_true_label,
	gimple_parse_goto_stmt,
	gimple_parse_label_stmt,
	gimple_parse_return_stmt,
	gimple_parse_stmt,
	gimple_parse_switch_stmt): Move from ../lto/lto.c.

2010-08-12  Diego Novillo  <dnovillo@google.com>

	* Make-lang.in: New file.
	* config-lang.in: New file.
	* gimple-lang.c: New file.
	* lang-specs.h: New file.
	* lang.opt: New file.
	* parser.c: New file.
	* parser.h: New file.

Local Variables:
mode: change-log
End:


Copyright (C) 2010 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.
