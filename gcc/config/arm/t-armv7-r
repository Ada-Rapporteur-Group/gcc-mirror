#Build below library for ARM armv7-r architecture.
#  armv7-r/thumb     		-mthumb -march=armv7-r
#  armv7-r/thumb/hard     	-mthumb -mfloat-abi=hard   -march=armv7-r -mfpu=vfpv3-d16
#  armv7-r/thumb/softfp     	-mthumb -mfloat-abi=softfp -march=armv7-r -mfpu=vfpv3-d16

MULTILIB_OPTIONS      += march=armv7-r mfpu=vfpv3-d16

MULTILIB_DIRNAMES     += armv7-r vfpv3-d16

MULTILIB_EXCEPTIONS   += march=armv7-r*
MULTILIB_EXCEPTIONS   += marm*/march=armv7-r*
MULTILIB_EXCEPTIONS   += mfloat-abi*/march=armv7-r*
MULTILIB_EXCEPTIONS   += mthumb/mfloat-abi*/march=armv7-r
MULTILIB_EXCEPTIONS   += mfloat-abi=softfp*/march=armv7-r*

# Common exceptions.
MULTILIB_EXCEPTIONS   += *march=armv7e-m*/mfpu=vfpv3-d16*
MULTILIB_EXCEPTIONS   += *mfpu*/mfpu*
MULTILIB_EXCEPTIONS   += *march*/march*
MULTILIB_EXCEPTIONS   += march*/mfpu*
MULTILIB_EXCEPTIONS   += marm/mfpu*
MULTILIB_EXCEPTIONS   += mcpu*/mfpu*
MULTILIB_EXCEPTIONS   += mfloat-abi=hard/mfpu*
MULTILIB_EXCEPTIONS   += mfloat-abi=softfp/mfpu*
MULTILIB_EXCEPTIONS   += mfpu*
MULTILIB_EXCEPTIONS   += mthumb/march*/mfpu*
MULTILIB_EXCEPTIONS   += mthumb/mfloat-abi=hard/mfpu*
MULTILIB_EXCEPTIONS   += mthumb/mfloat-abi=softfp/mfpu*
MULTILIB_EXCEPTIONS   += mthumb/mfpu*

MULTILIB_MATCHES      += march?armv7-r=mcpu?cortex-r4
MULTILIB_MATCHES      += march?armv7-r=mcpu?cortex-r4f
MULTILIB_MATCHES      += march?armv7-r=mcpu?cortex-r5

MULTILIB_OSDIRNAMES   += mthumb/march.armv7-r=!armv7-r/thumb
MULTILIB_OSDIRNAMES   += mthumb/mfloat-abi.hard/march.armv7-r/mfpu.vfpv3-d16=!armv7-r/thumb/fpu
MULTILIB_OSDIRNAMES   += mthumb/mfloat-abi.softfp/march.armv7-r/mfpu.vfpv3-d16=!armv7-r/thumb/softfp
