movdi branch, based on subversion id 242556
