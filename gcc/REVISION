stage-builtin branch, based on subversion id 236398.
