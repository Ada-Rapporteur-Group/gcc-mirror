stage-splat branch, based on subversion id 235933
