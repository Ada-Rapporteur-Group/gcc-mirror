2012-03-01  François Dumont  <fdumont@gcc.gnu.org>

	DR libstdc++/13631
	* config/locale/gnu/messages_member.h, messages_member.cc: Prefer
	dgettext usage to gettext to allow usage of several catalogs at the
	same time. Add an internal cache to make catalog names to catalog ids.
	* testsuite/22_locale/messages/13631.cc: New.

2012-02-13  François Dumont  <fdumont@gcc.gnu.org>

	* include/debug/safe_base.h
	(_Safe_iterator_base::_M_get_mutex): Remove.
	(_Safe_sequence_base::_M_mutex): Add, use it...
	(_Safe_sequence_base::_M_get_mutex): ...here.
	* src/c++11/debug.cc:
	(anonymous::get_safe_base_mutex): Remove.

